<!DOCTYPE html>
<!--[if IE 8]><html lang="en" dir="ltr" class="ie8"><![endif]-->
<!--[if IE 9]><html lang="en" dir="ltr" class="ie9"><![endif]-->
<!--[if gt IE 9]><!-->
<html dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions" lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        
        html {
            overflow: hidden;
        }
        

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="a_data/lounge_002.js"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="a_data/lounge.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="a_data/lounge.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="a_data/config.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="a_data/ga.js"></script><style id="css_1524212725102"></style><!-- base href="https://disqus.com/embed/comments/?base=default&f=realpython&t_i=https%3A%2F%2Frealpython.com%2Ftoken-based-authentication-with-flask%2F&t_u=https%3A%2F%2Frealpython.com%2Ftoken-based-authentication-with-flask%2F&t_d=Token-Based%20Authentication%20With%20Flask&t_t=Token-Based%20Authentication%20With%20Flask&s_o=default" --><link rel="stylesheet" href="a_data/discovery.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="discovery/main" src="a_data/discovery.js"></script><link rel="stylesheet" href="a_data/highlight.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common/vendor_extensions/highlight" src="a_data/highlight.js"></script></head>
<body>
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"forum":{"aetBannerConfirmation":null,"founder":"214055382","twitterName":"realpython","commentsLinkOne":"1 Comment","guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/realpython.jpg","cache":"https://c.disquscdn.com/uploads/forums/216/7414/favicon.png"},"commentsLinkZero":"0 Comments","disableDisqusBranding":false,"daysAlive":0,"createdAt":"2013-02-01T18:14:49.027890","category":"Tech","aetBannerEnabled":false,"aetBannerTitle":null,"raw_guidelines":null,"colorScheme":"auto","id":"realpython","installCompleted":true,"moderatorBadgeText":"","commentPolicyText":null,"aetEnabled":false,"channel":null,"sort":4,"description":"\u003cp>Practical Python Training\u003c/p>","newPolicy":true,"raw_description":"Practical Python Training","language":"en","adsReviewStatus":1,"pk":"2167414","forumCategory":{"date_added":"2016-01-28T01:54:31","id":8,"name":"Tech"},"permissions":{},"commentPolicyLink":null,"aetBannerDescription":null,"name":"Real Python","commentsLinkMultiple":"{num} Comments","settings":{"adsDRNativeEnabled":false,"disable3rdPartyTrackers":true,"adsVideoEnabled":false,"adsProductVideoEnabled":false,"adsPositionTopEnabled":false,"ssoRequired":false,"unapproveLinks":true,"adsEnabled":false,"adsProductLinksThumbnailsEnabled":false,"hasCustomAvatar":false,"organicDiscoveryEnabled":true,"allowMedia":true,"adsProductDisplayEnabled":false,"adsProductLinksEnabled":false,"linkAffiliationEnabled":false,"allowAnonPost":true,"adsProductStoriesEnabled":false,"adultContent":false,"allowAnonVotes":false,"mustVerify":true,"mustVerifyEmail":true,"audienceSyncEnabled":false,"mediaembedEnabled":true,"adsPositionBottomEnabled":false,"discoveryLocked":false,"validateAllPosts":false,"adsSettingsLocked":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":3680598,"typeface":"auto","url":"https://realpython.com/","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/realpython.jpg?size=32","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/realpython.jpg?size=92","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"}},"signedUrl":"https://disq.us/?url=https%3A%2F%2Frealpython.com%2F&key=XTE3U2COXt3F5DvUyqB87g"}}</script>

    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":27,"hasNext":false,"next":"1:0:0"},"code":0,"response":{"lastModified":1521520926,"posts":[{"dislikes":0,"numReports":0,"likes":3,"message":"\u003cp>I thought the main advantage of JWT was being able to validate them without accessing the database (for various reasons). Doesn't adding a database driven blacklist check completely invalidate any advantages JWT has?\u003c/p>","id":"3117586507","isHighlighted":false,"author":{"name":"Ingmar","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar32.png","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-01-24T17:33:06","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I thought the main advantage of JWT was being able to validate them without accessing the database (for various reasons). Doesn't adding a database driven blacklist check completely invalidate any advantages JWT has?","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":3,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Great question! Storing invalidated tokens does not negate all the advantages, but it does slow the process down and you do have to manage some sort of state. You could store invalidated tokens in cache to avoid a DB call. But you are still having to manage state on the server, though. Some get around this by not invalidating tokens, but I would not do this at scale. There's not a single answer to this problem.\u003c/p>\u003cp>- Auth0 has a great post on why and how you should manage invalidated tokens -&gt; \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fauth0.com%2Fblog%2Fblacklist-json-web-token-api-keys%2F%3AT3O7bdOz9dxEBMUvDdstJXp6Csw&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"https://auth0.com/blog/blacklist-json-web-token-api-keys/\">https://auth0.com/blog/blac...\u003c/a>\u003cbr>- You can also check out some of the Reddit comments -&gt; \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fflask%2Fcomments%2F5pwbr6%2Ftokenbased_authentication_with_flask%2F%3AHH-Uz-6TTZdEyVsvsClWZv8wUhY&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"https://www.reddit.com/r/flask/comments/5pwbr6/tokenbased_authentication_with_flask/\">https://www.reddit.com/r/fl...\u003c/a>\u003c/p>","id":"3119059771","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-01-25T14:30:42","parent":3117586507,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Great question! Storing invalidated tokens does not negate all the advantages, but it does slow the process down and you do have to manage some sort of state. You could store invalidated tokens in cache to avoid a DB call. But you are still having to manage state on the server, though. Some get around this by not invalidating tokens, but I would not do this at scale. There's not a single answer to this problem.\n\n- Auth0 has a great post on why and how you should manage invalidated tokens -> https://auth0.com/blog/blacklist-json-web-token-api-keys/\n- You can also check out some of the Reddit comments -> https://www.reddit.com/r/flask/comments/5pwbr6/tokenbased_authentication_with_flask/","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":["links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":1,"message":"\u003cp>Good job !\u003c/p>","id":"3327600227","isHighlighted":false,"author":{"username":"disqus_eQoPhDn6Nu","about":"","name":"Stella","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-12-12T00:52:57","profileUrl":"https://disqus.com/by/disqus_eQoPhDn6Nu/","url":"https://qianxucmu.com","location":"","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fqianxucmu.com&key=HwCORn0BVPX519anB2QGVg","isPrimary":true,"isAnonymous":false,"id":"187113152","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_eQoPhDn6Nu.jpg","cache":"https://c.disquscdn.com/uploads/users/18711/3152/avatar32.jpg?1504754270"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_eQoPhDn6Nu.jpg","cache":"https://c.disquscdn.com/uploads/users/18711/3152/avatar92.jpg?1504754270","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_eQoPhDn6Nu.jpg","cache":"https://c.disquscdn.com/uploads/users/18711/3152/avatar92.jpg?1504754270"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-05-27T17:53:32","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Good job !","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Getting \"fe_sendauth: no password supplied\" while running python \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"manage.py\">manage.py\u003c/a> create_db command. I am using PostgreSQL 10 pgAdmin 4. The two database created successfully but not able to migrate using command.\u003c/p>","id":"3775298009","isHighlighted":false,"author":{"username":"niraj_chavan","about":"","name":"Niraj Chavan","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-10-22T19:06:32","profileUrl":"https://disqus.com/by/niraj_chavan/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"179762356","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/niraj_chavan.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/niraj_chavan.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/niraj_chavan.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2018-02-25T13:03:02","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Getting \"fe_sendauth: no password supplied\" while running python manage.py create_db command. I am using PostgreSQL 10 pgAdmin 4. The two database created successfully but not able to migrate using command.","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["links"],"isEdited":true,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Thank you for this tutorial.\u003c/p>\u003cp>When I run all of the tests, I am receiving POST data. However, when I try to hook this up to a front-end user interface, with a generic post action on a form.\u003c/p>\u003cp>I.e. I added a new GET route to the login api that looks like this:\u003cbr>\u003c/p>\u003cpre>\u003ccode>    def get(self):\u003cbr>        return '''\u003cbr>&lt;html&gt;\u003cbr>    &lt;head&gt;\u003cbr>        &lt;title&gt;Patriot Financial Associates&lt;/title&gt;\u003cbr>    &lt;/head&gt;\u003cbr>    &lt;body&gt;\u003cbr>        &lt;h1&gt;Patriot Financial Associates&lt;/h1&gt;\u003cbr>        &lt;h3&gt;Login.&lt;/h3&gt;\u003cbr>        &lt;form id=\"loginForm\" action=\"/auth/login\" method=\"post\"&gt;\u003cbr>            Username:\u003cbr>\u003cbr>            &lt;input type=\"text\" name=\"email\"&gt;\u003cbr>\u003cbr>            Password:\u003cbr>\u003cbr>            &lt;input type=\"password\" name=\"password\"&gt;\u003cbr>            &lt;input value=\"Submit\" type=\"submit\"&gt;\u003cbr>        &lt;/form&gt;\u003cbr>    &lt;/body&gt;\u003cbr>&lt;/html&gt;'''\u003c/code>\u003c/pre>\u003cp>\u003c/p>\u003cp>Here is the code that should receive the post request in the loginapi.\u003cbr>\u003c/p>\u003cpre>\u003ccode>\u003cbr>    def post(self):\u003cbr>        # get the post data\u003cbr>        post_data = request.get_json()\u003cbr>        print('received post to login endpoint with post_data= ', post_data)\u003cbr>        try:\u003cbr>            # fetch the user data\u003cbr>            user = User.query.filter_by(\u003cbr>                email=post_data.get('email')\u003cbr>            ).first()\u003cbr>            if user and bcrypt.check_password_hash(\u003cbr>                user.password, post_data.get('password')\u003cbr>            ):\u003cbr>                auth_token = user.encode_auth_token(user.id)\u003cbr>                if auth_token:\u003cbr>                    responseObject = {\u003cbr>                        'status': 'success',\u003cbr>                        'message': 'Successfully logged in.',\u003cbr>                        'auth_token': auth_token.decode()\u003cbr>                    }\u003cbr>                    return make_response(jsonify(responseObject)), 200\u003cbr>            else:\u003cbr>                responseObject = {\u003cbr>                    'status': 'fail',\u003cbr>                    'message': 'User does not exist.'\u003cbr>                }\u003cbr>                return make_response(jsonify(responseObject)), 404 \u003c/code>\u003c/pre>\u003cp>\u003c/p>\u003cp>When I run the tests, post data is being received. However, from the web interface, calling request.get_json() is returning anything to the post_data variable. Here is what the request looks like in Chrome Dev Tools: \u003cbr> \u003ca href=\"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png\">https://uploads.disquscdn.c...\u003c/a>  \u003ca href=\"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png\">https://uploads.disquscdn.c...\u003c/a>\u003c/p>","id":"3747179305","isHighlighted":false,"author":{"username":"zhughesent","about":"","name":"Z. Hughes Ent.","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-11-03T20:35:54","profileUrl":"https://disqus.com/by/zhughesent/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"80259118","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar32.jpg?1518027079"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar92.jpg?1518027079","large":{"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar92.jpg?1518027079"}}},"media":[{"thread":"5484546317","resolvedUrl":"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","thumbnailUrl":"//uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","htmlWidth":null,"id":36837406,"thumbnailWidth":680,"title":"","htmlHeight":null,"mediaType":"2","html":"","location":"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","type":"5","metadata":{"create_method":"preview","thumbnail":"//uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png"},"urlRedirect":"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","description":"","post":"3747179305","thumbnailURL":"//uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","providerName":"Disquscdn","forum":"realpython","url":"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","resolvedUrlRedirect":"https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png","thumbnailHeight":206},{"thread":"5484546317","resolvedUrl":"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","thumbnailUrl":"//uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","htmlWidth":null,"id":36837409,"thumbnailWidth":634,"title":"","htmlHeight":null,"mediaType":"2","html":"","location":"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","type":"5","metadata":{"create_method":"preview","thumbnail":"//uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png"},"urlRedirect":"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","description":"","post":"3747179305","thumbnailURL":"//uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","providerName":"Disquscdn","forum":"realpython","url":"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","resolvedUrlRedirect":"https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","thumbnailHeight":116}],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2018-02-07T16:40:51","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Thank you for this tutorial.\n\nWhen I run all of the tests, I am receiving POST data. However, when I try to hook this up to a front-end user interface, with a generic post action on a form.\n\nI.e. I added a new GET route to the login api that looks like this:\n\u003cpre>\u003ccode>    def get(self):\n        return '''\n\u003chtml>\n    \u003chead>\n        \u003ctitle>Patriot Financial Associates\u003c/title>\n    \u003c/head>\n    \u003cbody>\n        \u003ch1>Patriot Financial Associates\u003c/h1>\n        \u003ch3>Login.\u003c/h3>\n        \u003cform id=\"loginForm\" action=\"/auth/login\" method=\"post\">\n            Username:\u003cbr>\n            \u003cinput type=\"text\" name=\"email\">\u003cbr>\n            Password:\u003cbr>\n            \u003cinput type=\"password\" name=\"password\">\n            \u003cinput value=\"Submit\" type=\"submit\">\n        \u003c/form>\n    \u003c/body>\n\u003c/html>'''\u003c/code>\u003c/pre>\n\nHere is the code that should receive the post request in the loginapi.\n\u003cpre>\u003ccode>\n    def post(self):\n        # get the post data\n        post_data = request.get_json()\n        print('received post to login endpoint with post_data= ', post_data)\n        try:\n            # fetch the user data\n            user = User.query.filter_by(\n                email=post_data.get('email')\n            ).first()\n            if user and bcrypt.check_password_hash(\n                user.password, post_data.get('password')\n            ):\n                auth_token = user.encode_auth_token(user.id)\n                if auth_token:\n                    responseObject = {\n                        'status': 'success',\n                        'message': 'Successfully logged in.',\n                        'auth_token': auth_token.decode()\n                    }\n                    return make_response(jsonify(responseObject)), 200\n            else:\n                responseObject = {\n                    'status': 'fail',\n                    'message': 'User does not exist.'\n                }\n                return make_response(jsonify(responseObject)), 404 \u003c/code>\u003c/pre>\n\nWhen I run the tests, post data is being received. However, from the web interface, calling request.get_json() is returning anything to the post_data variable. Here is what the request looks like in Chrome Dev Tools: \n https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png  https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>I fixed my problem. The problem happens in the flask.request method \"get_json\" which \"Parses the incoming JSON request data and returns it. By default this function will return None if the mimetype is not application/json but this can be overridden by the force parameter.\" For more info, \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fflask.pocoo.org%2Fdocs%2F0.12%2Fapi%2F%23incoming-request-data%3AJlGxO-JaSOyfmB5OGuKZnBFEJRs&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"http://flask.pocoo.org/docs/0.12/api/#incoming-request-data\">check out the Flask documentation here\u003c/a>. Because the mimetype is 'application/x-www-form-urlencoded' when POST'ing form data, I had to change the first line of the post methods to:\u003cbr>\u003c/p>\u003cpre>\u003ccode>post_data = request.get_json() or request.form\u003c/code>\u003c/pre>","id":"3747334392","isHighlighted":false,"author":{"username":"zhughesent","about":"","name":"Z. Hughes Ent.","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-11-03T20:35:54","profileUrl":"https://disqus.com/by/zhughesent/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"80259118","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar32.jpg?1518027079"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar92.jpg?1518027079","large":{"permalink":"https://disqus.com/api/users/avatars/zhughesent.jpg","cache":"https://c.disquscdn.com/uploads/users/8025/9118/avatar92.jpg?1518027079"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2018-02-07T18:11:18","parent":3747179305,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I fixed my problem. The problem happens in the flask.request method \"get_json\" which \"Parses the incoming JSON request data and returns it. By default this function will return None if the mimetype is not application/json but this can be overridden by the force parameter.\" For more info, \u003ca href=\"http://flask.pocoo.org/docs/0.12/api/#incoming-request-data\">check out the Flask documentation here\u003c/a>. Because the mimetype is 'application/x-www-form-urlencoded' when POST'ing form data, I had to change the first line of the post methods to:\n\u003cpre>\u003ccode>post_data = request.get_json() or request.form\u003c/code>\u003c/pre>","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":["links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>This seems very unpythonic.. the hula hoops there and there what kind of setup is this?\u003c/p>","id":"3744742354","isHighlighted":false,"author":{"username":"daixtr","about":"","name":"Eigenfield Aparicio","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2014-01-07T15:46:49","profileUrl":"https://disqus.com/by/daixtr/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"89546258","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/daixtr.jpg","cache":"https://c.disquscdn.com/uploads/users/8954/6258/avatar32.jpg?1427984671"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/daixtr.jpg","cache":"https://c.disquscdn.com/uploads/users/8954/6258/avatar92.jpg?1427984671","large":{"permalink":"https://disqus.com/api/users/avatars/daixtr.jpg","cache":"https://c.disquscdn.com/uploads/users/8954/6258/avatar92.jpg?1427984671"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2018-02-06T04:13:45","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"This seems very unpythonic.. the hula hoops there and there what kind of setup is this?","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Can i get video tutorial for all this am trying to follow up but stuck in between....\u003c/p>","id":"3708574457","isHighlighted":false,"author":{"username":"beldenn","about":"","name":"Dennis Bellio","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2016-09-22T15:27:07","profileUrl":"https://disqus.com/by/beldenn/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"224050031","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/beldenn.jpg","cache":"https://c.disquscdn.com/uploads/users/22405/31/avatar32.jpg?1516005569"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/beldenn.jpg","cache":"https://c.disquscdn.com/uploads/users/22405/31/avatar92.jpg?1516005569","large":{"permalink":"https://disqus.com/api/users/avatars/beldenn.jpg","cache":"https://c.disquscdn.com/uploads/users/22405/31/avatar92.jpg?1516005569"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2018-01-15T08:39:28","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Can i get video tutorial for all this am trying to follow up but stuck in between....","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Migrations not working ... I get the following error:\u003cbr>sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) fe_sendauth: no password supplied\u003c/p>","id":"3477121835","isHighlighted":false,"author":{"username":"benaltieri","about":"Married father of two and Web Ops Engineer bent adhering to the principles of TYE","name":"Ben Alteri","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2009-09-01T14:03:02","profileUrl":"https://disqus.com/by/benaltieri/","url":"http://chiefspace.com","location":"Franklin, Mass","isPrivate":false,"signedUrl":"http://disq.us/?url=http%3A%2F%2Fchiefspace.com&key=hOqJqY8Kn4rL_nq6gEYx5Q","isPrimary":true,"isAnonymous":false,"id":"749120","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/benaltieri.jpg","cache":"https://c.disquscdn.com/uploads/users/74/9120/avatar32.jpg?1503189263"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/benaltieri.jpg","cache":"https://c.disquscdn.com/uploads/users/74/9120/avatar92.jpg?1503189263","large":{"permalink":"https://disqus.com/api/users/avatars/benaltieri.jpg","cache":"https://c.disquscdn.com/uploads/users/74/9120/avatar92.jpg?1503189263"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-08-20T00:34:22","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Migrations not working ... I get the following error:\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) fe_sendauth: no password supplied","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Just completed this tutorial, and noted that Werkzeug needs to be updated to 0.11.15 in requirements.txt else you'll get the following error when using Python 3:\u003cbr>lib\\site-packages\\werkzeug\\\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fserving.py%3AbfcSIp-naQuQGpzRJBTJKiwk2vw&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"serving.py\">serving.py\u003c/a>\", line 65, in &lt;module&gt;\u003cbr>    from SocketServer import ThreadingMixIn, ForkingMixIn\u003cbr>ModuleNotFoundError: No module named 'SocketServer'\u003c/p>\u003cp>the module is all lowercase for Python3.\u003c/p>","id":"3426835730","isHighlighted":false,"author":{"username":"porqpai","about":"","name":"porqpai","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-12-19T01:37:18","profileUrl":"https://disqus.com/by/porqpai/","url":"","location":"","isPrivate":true,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"86907642","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/porqpai.jpg","cache":"https://c.disquscdn.com/uploads/users/8690/7642/avatar32.jpg?1501792765"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/porqpai.jpg","cache":"https://c.disquscdn.com/uploads/users/8690/7642/avatar92.jpg?1501792765","large":{"permalink":"https://disqus.com/api/users/avatars/porqpai.jpg","cache":"https://c.disquscdn.com/uploads/users/8690/7642/avatar92.jpg?1501792765"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-07-20T15:46:11","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Just completed this tutorial, and noted that Werkzeug needs to be updated to 0.11.15 in requirements.txt else you'll get the following error when using Python 3:\nlib\\site-packages\\werkzeug\\serving.py\", line 65, in \u003cmodule>\n    from SocketServer import ThreadingMixIn, ForkingMixIn\nModuleNotFoundError: No module named 'SocketServer'\n\nthe module is all lowercase for Python3.","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["links"],"isEdited":true,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hi I've been following this excellent tutorial step by step. While preparing the Login API, I realized that the code is not checking if the password entered by the user is correct. It is only checking if the user already exists in the database. I validated this by changing the password in the test named - 'test_registered_user_login' and the test passes with incorrect password. Would raise a pull request for the same on github today after adding another test and modifying the code.\u003c/p>","id":"3391429101","isHighlighted":false,"author":{"username":"disqus_jbOsFuu0wv","about":"","name":"Aditya","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2017-06-29T13:40:39","profileUrl":"https://disqus.com/by/disqus_jbOsFuu0wv/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"257348039","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-29T13:44:56","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hi I've been following this excellent tutorial step by step. While preparing the Login API, I realized that the code is not checking if the password entered by the user is correct. It is only checking if the user already exists in the database. I validated this by changing the password in the test named - 'test_registered_user_login' and the test passes with incorrect password. Would raise a pull request for the same on github today after adding another test and modifying the code.","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Nice catch. Yes - can you please open a PR? Thanks!\u003c/p>","id":"3392866509","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-30T07:22:39","parent":3391429101,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Nice catch. Yes - can you please open a PR? Thanks!","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hi sorry for the delayed response. That day I noticed that this change has already been incorporated in the code on the master branch. I guess all that's left is to make the edit on this post. Thanks once again for this very informative tutorial\u003c/p>","id":"3408979863","isHighlighted":false,"author":{"username":"disqus_jbOsFuu0wv","about":"","name":"Aditya","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2017-06-29T13:40:39","profileUrl":"https://disqus.com/by/disqus_jbOsFuu0wv/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"257348039","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-07-10T13:12:05","parent":3392866509,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hi sorry for the delayed response. That day I noticed that this change has already been incorporated in the code on the master branch. I guess all that's left is to make the edit on this post. Thanks once again for this very informative tutorial","canVote":false,"thread":"5484546317","forum":"realpython","depth":2,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hmmm... does this not get corrected in the \"Non-Registered user login\" section of the post?\u003c/p>","id":"3411056776","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-07-11T12:49:31","parent":3408979863,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hmmm... does this not get corrected in the \"Non-Registered user login\" section of the post?","canVote":false,"thread":"5484546317","forum":"realpython","depth":3,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":1,"message":"\u003cp>Indeed. In fact I felt like I jumped the gun by commenting before I even reached that section. However, you might still want to work on the messaging in the same class (LoginAPI). The login check currently in place tests if the user exists AND if the password is correct - failing which the message that goes in the response says 'User does not exist'. There is no message for the user being registered but the password being incorrect. Its a minor issue I guess, but you might want to look at it\u003c/p>","id":"3414713190","isHighlighted":false,"author":{"username":"disqus_jbOsFuu0wv","about":"","name":"Aditya","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2017-06-29T13:40:39","profileUrl":"https://disqus.com/by/disqus_jbOsFuu0wv/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"257348039","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_jbOsFuu0wv.jpg","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-07-13T14:23:27","parent":3411056776,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Indeed. In fact I felt like I jumped the gun by commenting before I even reached that section. However, you might still want to work on the messaging in the same class (LoginAPI). The login check currently in place tests if the user exists AND if the password is correct - failing which the message that goes in the response says 'User does not exist'. There is no message for the user being registered but the password being incorrect. Its a minor issue I guess, but you might want to look at it","canVote":false,"thread":"5484546317","forum":"realpython","depth":4,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Good points. Thanks!\u003c/p>","id":"3416408918","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-07-14T13:16:53","parent":3414713190,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Good points. Thanks!","canVote":false,"thread":"5484546317","forum":"realpython","depth":5,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>I have a few questions, CMIIW - I do understand that every time user login, it will giving you a token with validity that you can set (in your example: 6s), and you can validate the token by cheking on the status method and even you can blacklist/invalidate the particular token.\u003c/p>\u003cp>1. what is the use case for blacklist?\u003cbr>1a. every time user logout, it will add user's token in a blacklist table, that means: 1 record every logout action per user - how to manage this? can I do sanity/clean up job for  blacklist record that older than 'x' days/weeks? will the deleted record safe to delete? (it wont be able to use after deletion)\u003c/p>\u003cp>2. the only way for you to the the valid token is when you login, which the token will always different each time user login.\u003cbr>if I didn't logout, I login and get Token 'A', then I login again and get Token 'B\" will Token 'A' and 'B' valid?\u003cbr>2a. if both Tokens are valid, is that means you have to logout multiple times by sending generated Token in header 1 by 1 so they'll be blacklisted?\u003c/p>","id":"3353725011","isHighlighted":false,"author":{"name":"AnD","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar32.png","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-11T15:33:07","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I have a few questions, CMIIW - I do understand that every time user login, it will giving you a token with validity that you can set (in your example: 6s), and you can validate the token by cheking on the status method and even you can blacklist/invalidate the particular token.\n\n1. what is the use case for blacklist?\n1a. every time user logout, it will add user's token in a blacklist table, that means: 1 record every logout action per user - how to manage this? can I do sanity/clean up job for  blacklist record that older than 'x' days/weeks? will the deleted record safe to delete? (it wont be able to use after deletion)\n\n2. the only way for you to the the valid token is when you login, which the token will always different each time user login.\nif I didn't logout, I login and get Token 'A', then I login again and get Token 'B\" will Token 'A' and 'B' valid?\n2a. if both Tokens are valid, is that means you have to logout multiple times by sending generated Token in header 1 by 1 so they'll be blacklisted?","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>1. You really don't want a token to be used twice, for different users. It can be managed in a number of different ways, depending on the level of security you need. In the past, I have deleted records older than 1 year.\u003cbr>2. One of the reasons for using tokens is to manage multiple logins from multiple devices. So, yes - a single user could have multiple tokens.\u003c/p>","id":"3354380706","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-12T00:05:37","parent":3353725011,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"1. You really don't want a token to be used twice, for different users. It can be managed in a number of different ways, depending on the level of security you need. In the past, I have deleted records older than 1 year.\n2. One of the reasons for using tokens is to manage multiple logins from multiple devices. So, yes - a single user could have multiple tokens.","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>What's the purpose of 'Bearer' in your code above? - \"Authorization='Bearer '\" - is that something like an additional 'secret words'?\u003c/p>","id":"3353698859","isHighlighted":false,"author":{"name":"AnD","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar32.png","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-11T15:11:59","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"What's the purpose of 'Bearer' in your code above? - \"Authorization='Bearer '\" - is that something like an additional 'secret words'?","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>It indicates the type of auth. \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc6750%3A1BTXJ0cO_wjpVOHvUyDsjtg9HI8&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"https://tools.ietf.org/html/rfc6750\">https://tools.ietf.org/html...\u003c/a>\u003c/p>","id":"3354374933","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-11T23:59:46","parent":3353698859,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"It indicates the type of auth. https://tools.ietf.org/html/rfc6750","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":["links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Nice article, help me a lot, but 1 question, how to deploy this in Development server or in production server? instead of running on test environment?\u003c/p>","id":"3347947724","isHighlighted":false,"author":{"name":"AnD","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar32.png","cache":"//a.disquscdn.com/1523321660/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1523321660/images/noavatar92.png","cache":"//a.disquscdn.com/1523321660/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-08T07:33:36","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Nice article, help me a lot, but 1 question, how to deploy this in Development server or in production server? instead of running on test environment?","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":1,"message":"\u003cp>We show exactly how to do that in the Real Python courses. We also have a blog post on deploying Django to Elastic Beanstalk -&gt; \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Frealpython.com%2Fblog%2Fpython%2Fdeploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk%2F%3A3Kz9bWhOY2qxlme6t5CMnx1UHQg&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"https://realpython.com/blog/python/deploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk/\">https://realpython.com/blog...\u003c/a>.\u003c/p>","id":"3348211733","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-06-08T12:34:02","parent":3347947724,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"We show exactly how to do that in the Real Python courses. We also have a blog post on deploying Django to Elastic Beanstalk -> https://realpython.com/blog/python/deploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk/.","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":1,"moderationLabels":["links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Just two little fixes, and the rest went perfectly.\u003c/p>\u003cp>First fix: the migrations were missing a models import (mentioned in reply to \u003ca data-dsq-mention=\"androiddrew:disqus\" href=\"https://disqus.com/by/androiddrew/\" rel=\"nofollow noopener\" title=\"https://disqus.com/by/androiddrew/\">AndroidDrew\u003c/a> comment). Top of \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"manage.py\">manage.py\u003c/a>, you need:\u003c/p>\u003cp>from project.server import app, db, models\u003c/p>\u003cp>Second fix: the method \"check_blacklist\" in class BlacklistToken required a cast to string in the query filter (I was getting an \"operator does not exist\" error).\u003c/p>\u003cp>It now reads:\u003c/p>\u003cp>res = BlacklistToken.query.filter_by(token=str(auth_token)).first()\u003c/p>\u003cp>I'm just getting my feet wet with Flask, and this was a great introduction. I definitely appreciated the test-first approach.\u003c/p>","id":"3144727269","isHighlighted":false,"author":{"username":"rjpwca","about":"","name":"Jeff Wilson","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-02-03T05:24:22","profileUrl":"https://disqus.com/by/rjpwca/","url":"http://rjpw.github.io/","location":"","isPrivate":true,"signedUrl":"http://disq.us/?url=http%3A%2F%2Frjpw.github.io%2F&key=cxWYcNFwnH4d5BuN56VM7w","isPrimary":true,"isAnonymous":false,"id":"142635621","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar32.jpg?1486573465"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar92.jpg?1486573465","large":{"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar92.jpg?1486573465"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-02-08T20:31:23","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Just two little fixes, and the rest went perfectly. \n\nFirst fix: the migrations were missing a models import (mentioned in reply to @androiddrew:disqus comment). Top of manage.py, you need:\n\nfrom project.server import app, db, models\n\nSecond fix: the method \"check_blacklist\" in class BlacklistToken required a cast to string in the query filter (I was getting an \"operator does not exist\" error). \n\nIt now reads: \n\nres = BlacklistToken.query.filter_by(token=str(auth_token)).first()\n\nI'm just getting my feet wet with Flask, and this was a great introduction. I definitely appreciated the test-first approach.","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["links"],"isEdited":true,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Just updated the post and the code in the repo. Thank you!\u003c/p>","id":"3146009147","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-02-09T15:11:13","parent":3144727269,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Just updated the post and the code in the repo. Thank you!","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Well Damn. I followed the instructions to a T but the Sanity Check on the database didn't work. I don't have a user table or Sequence in my Postgres App db\u003c/p>\u003cp>Edit:\u003c/p>\u003cp>Needed to add `from project.server.models import User` to the bottom of \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fproject.server.__init__.py%3AwGcwbrUCWRcq9M0RgjGlvYfXQm4&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"project.server.__init__.py\">project.server.__init__.py\u003c/a>.\u003c/p>","id":"3140813850","isHighlighted":false,"author":{"username":"androiddrew","about":"I enjoy Python, Fencing, and making things","name":"AndroidDrew","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2014-08-09T17:36:20","profileUrl":"https://disqus.com/by/androiddrew/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"117588977","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/androiddrew.jpg","cache":"https://c.disquscdn.com/uploads/users/11758/8977/avatar32.jpg?1461776585"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/androiddrew.jpg","cache":"https://c.disquscdn.com/uploads/users/11758/8977/avatar92.jpg?1461776585","large":{"permalink":"https://disqus.com/api/users/avatars/androiddrew.jpg","cache":"https://c.disquscdn.com/uploads/users/11758/8977/avatar92.jpg?1461776585"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-02-06T21:33:13","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Well Damn. I followed the instructions to a T but the Sanity Check on the database didn't work. I don't have a user table or Sequence in my Postgres App db\n\nEdit: \n\nNeeded to add `from project.server.models import User` to the bottom of project.server.__init__.py.","canVote":false,"thread":"5484546317","forum":"realpython","depth":0,"points":0,"moderationLabels":["links"],"isEdited":true,"sb":false},{"dislikes":0,"numReports":0,"likes":1,"message":"\u003cp>The migrations are not running correctly then. Are you not getting any error?\u003c/p>","id":"3140821157","isHighlighted":false,"author":{"username":"michaelherman","about":"","name":"michaelherman","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2012-05-05T17:24:09","profileUrl":"https://disqus.com/by/michaelherman/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"25738176","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar32.jpg?1523882909"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909","large":{"permalink":"https://disqus.com/api/users/avatars/michaelherman.jpg","cache":"https://c.disquscdn.com/uploads/users/2573/8176/avatar92.jpg?1523882909"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-02-06T21:38:12","parent":3140813850,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"The migrations are not running correctly then. Are you not getting any error?","canVote":false,"thread":"5484546317","forum":"realpython","depth":1,"points":1,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>I fixed this by appending \", models\" to the imports from project.server at the top of the file \"\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414\" rel=\"nofollow noopener\" title=\"manage.py\">manage.py\u003c/a>\", so it now reads:\u003c/p>\u003cp>from project.server import app, db, models\u003c/p>","id":"3144345620","isHighlighted":false,"author":{"username":"rjpwca","about":"","name":"Jeff Wilson","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-02-03T05:24:22","profileUrl":"https://disqus.com/by/rjpwca/","url":"http://rjpw.github.io/","location":"","isPrivate":true,"signedUrl":"http://disq.us/?url=http%3A%2F%2Frjpw.github.io%2F&key=cxWYcNFwnH4d5BuN56VM7w","isPrimary":true,"isAnonymous":false,"id":"142635621","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar32.jpg?1486573465"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar92.jpg?1486573465","large":{"permalink":"https://disqus.com/api/users/avatars/rjpwca.jpg","cache":"https://c.disquscdn.com/uploads/users/14263/5621/avatar92.jpg?1486573465"}}},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2017-02-08T16:54:07","parent":3140821157,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I fixed this by appending \", models\" to the imports from project.server at the top of the file \"manage.py\", so it now reads:\n\nfrom project.server import app, db, models","canVote":false,"thread":"5484546317","forum":"realpython","depth":2,"points":0,"moderationLabels":["links"],"isEdited":true,"sb":false}],"thread":{"feed":"https://realpython.disqus.com/token_based_authentication_with_flask_real_python/latest.rss","author":"25738176","dislikes":0,"likes":7,"message":"","isSpam":false,"createdAt":"2017-01-22T20:44:55","category":"2200875","clean_title":"Token-Based Authentication with Flask","id":"5484546317","signedLink":"https://disq.us/?url=https%3A%2F%2Frealpython.com%2Ftoken-based-authentication-with-flask%2F&key=PRcjngJ5Fd4229yXxCMo_w","isDeleted":false,"hasStreaming":false,"raw_message":"","isClosed":false,"link":"https://realpython.com/token-based-authentication-with-flask/","slug":"token_based_authentication_with_flask_real_python","forum":"realpython","identifiers":["https://realpython.com/token-based-authentication-with-flask/","https://realpython.com/blog/python/token-based-authentication-with-flask/"],"posts":27,"moderators":[25738176,214055382],"validateAllPosts":false,"title":"Token-Based Authentication with Flask - Real Python","highlightedPost":null}},"order":"popular"}</script>


    <div id="fixed-content"></div>


    
        
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current/embed"
}</script>

        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="a_data/common.js"></script><div id="layout" data-tracking-area="layout"><div id="onboard" data-tracking-area="onboard"></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><header id="main-nav" data-tracking-area="main-nav"><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">27 comments</span><span class="comment-count-placeholder">Comments</span></a></li><li class="nav-tab nav-tab--primary tab-community"><a href="https://disqus.com/home/forums/realpython/" class="publisher-nav-color" data-action="community-sidebar" data-forum="realpython" id="community-tab" name="Real Python"><span class="community-name"><strong>Real Python</strong></span><strong class="community-name-placeholder">Community</strong></a></li><li class="nav-tab nav-tab--primary dropdown user-menu" data-role="logout"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="menuitem" name="Login"><span class="dropdown-toggle-wrapper"><span>Login</span> </span> <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="#" data-action="auth:disqus">Disqus</a></li><li><a href="#" data-action="auth:facebook">Facebook</a></li><li><a href="#" data-action="auth:twitter">Twitter</a></li><li><a href="#" data-action="auth:google">Google</a></li></ul></li><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/"><span class="notification-icon icon-comment" aria-hidden="true"></span><span class="notification-count" data-role="notification-count">1</span></a></li></ul></nav></header><section id="conversation" data-role="main" data-tracking-area="main"><div class="nav nav-secondary" data-tracking-area="secondary-nav"><ul><li id="recommend-button" class="nav-tab nav-tab--secondary recommend dropdown"><div class="thread-likes"><div><a href="#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle "><span class="label label-default"><span class="recommend-icon icon-heart-empty"></span> Recommend</span><span class="label label-recommended"><span class="recommend-icon icon-heart"></span> Recommended</span> <span class="label label-count">7</span></a><ul class="dropdown-menu dropdown-menu--coachmark"><li><div><h2 class="coachmark__heading">Discussion Recommended!</h2><p class="coachmark__description">Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p></div> <a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank">Find More Discussions</a></li></ul></div></div></li><li id="thread-share-menu" class="nav-tab nav-tab--secondary dropdown share-menu hidden-sm" role="menuitem"><a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Share"><span class="icon-export"></span> <span class="label">Share</span></a><ul class="share-menu dropdown-menu"><li><div class="share-menu__label">Share this discussion on</div><ul><li class="twitter"><a data-action="share:twitter" href="#">Twitter</a></li><li class="facebook"><a data-action="share:facebook" href="#">Facebook</a></li></ul></li></ul></li><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-right"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu pull-right"><li class="selected"><a href="#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li></ul></div><div id="posts"><div id="form" class="textarea-wrapper--top-level"><form class="reply"><div class="postbox"><div role="alert"></div><div class="avatar"><span class="user"><img data-role="user-avatar" src="a_data/noavatar92_002.png" alt="Avatar"></span></div><div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" data-role="editable" style="overflow: auto; overflow-wrap: break-word; max-height: 350px;" aria-label="Join the discussion…" contenteditable="true"><p><br></p></div><div style="display: none;"><ul class="user-mention__list"><li class="header user-mention__header"><h5>in this conversation</h5></li></ul></div></div><div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none;"><div class="drag-text">⬇ Drag and drop your images here to upload them.</div></div><div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div><div class="edit-alert" role="postbox-alert"></div><div class="post-actions"><ul class="wysiwyg"><li class="wysiwyg__item" data-role="media-uploader"><a href="#" tabindex="-1" data-action="attach" class="attach" title="Upload Images"><span>Attach</span></a>
<input data-role="media-upload" tabindex="-1" accept="image/*" type="file">
</li></ul></div></div><div data-role="login-form"><div><div><section class="auth-section logged-out__display"><div class="connect"><h6>Log in with</h6><ul data-role="login-menu" class="services login-buttons"><li class="auth-disqus"><button type="button" data-action="auth:disqus" title="Disqus" class="connect__button"><i class="icon-disqus"></i></button></li><li class="auth-facebook"><button type="button" data-action="auth:facebook" title="Facebook" class="connect__button"><i class="icon-facebook-circle"></i></button></li><li class="auth-twitter"><button type="button" data-action="auth:twitter" title="Twitter" class="connect__button"><i class="icon-twitter-circle"></i></button></li><li class="auth-google"><button type="button" data-action="auth:google" title="Google" class="connect__button"><i class="icon-google-plus-circle"></i></button></li></ul></div><div class="guest"><h6 class="guest-form-title"><span class="register-text"> or sign up with Disqus </span><span class="guest-text"> or pick a name </span></h6> <div class="help-tooltip__wrapper help-icon" tabindex="0"><div id="rules" class="tooltip show help-tooltip"><h3 class="help-tooltip__heading">Disqus is a discussion network</h3><ul class="help-tooltip__list"><li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li><li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li></ul><p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" target="_blank">Read full terms and conditions</a></p></div></div><p class="input-wrapper"><input dir="auto" placeholder="Name" name="display_name" id="view75_display_name" maxlength="30" class="input--text" aria-label="name" type="text"></p><div class="guest-details " data-role="guest-details"><p class="input-wrapper"><input dir="auto" placeholder="Email" name="email" id="view75_email" class="input--text" aria-label="email" type="email"></p><p class="input-wrapper"><input dir="auto" disabled="disabled" class="register-text input--text" placeholder="Password" name="password" aria-label="password" id="view75_password" type="text"></p><div class="acceptance-wrapper register-text">By signing up, you agree to the Disqus <a href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions" target="_blank">Basic Rules</a>, <a href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service" target="_blank">Terms of Service</a>, and <a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" target="_blank">Privacy Policy</a>.</div><div class="acceptance-wrapper guest-text">By posting, you agree to the Disqus <a href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions" target="_blank">Basic Rules</a>, <a href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service" target="_blank">Terms of Service</a>, and <a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" target="_blank">Privacy Policy</a>.</div><div class="guest-checkbox"><label><input name="author-guest" type="checkbox"> I'd rather post as a guest</label></div><div class="proceed" data-role="submit-btn-container"><div><button type="submit" class="proceed__button btn submit" aria-label="Post"><span class="icon-proceed"></span><div class="spinner"></div></button><button type="submit" class="proceed__button btn next" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button></div></div></div></div></section></div></div></div></div></form></div><button class="alert alert--realtime" style="display: none;" data-role="realtime-notification"></button><div id="email-signup"></div><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-3117586507"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="a_data/noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Ingmar</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3117586507" data-role="relative-time" class="time-ago" title="Tuesday, January 24, 2017 8:33 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I
 thought the main advantage of JWT was being able to validate them 
without accessing the database (for various reasons). Doesn't adding a 
database driven blacklist check completely invalidate any advantages JWT
 has?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-3" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">3</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1fk4p57"></li></ul></li><li class="realtime" data-role="realtime-notification:3117586507"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3119059771"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/avatar92_009.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3117586507" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Ingmar</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3119059771" data-role="relative-time" class="time-ago" title="Wednesday, January 25, 2017 5:30 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great
 question! Storing invalidated tokens does not negate all the 
advantages, but it does slow the process down and you do have to manage 
some sort of state. You could store invalidated tokens in cache to avoid
 a DB call. But you are still having to manage state on the server, 
though. Some get around this by not invalidating tokens, but I would not
 do this at scale. There's not a single answer to this problem.</p><p>- Auth0 has a great post on why and how you should manage invalidated tokens -&gt; <a href="https://disq.us/url?url=https%3A%2F%2Fauth0.com%2Fblog%2Fblacklist-json-web-token-api-keys%2F%3AT3O7bdOz9dxEBMUvDdstJXp6Csw&amp;cuid=2167414" rel="nofollow noopener" title="https://auth0.com/blog/blacklist-json-web-token-api-keys/">https://auth0.com/blog/blac...</a><br>- You can also check out some of the Reddit comments -&gt; <a href="https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2Fflask%2Fcomments%2F5pwbr6%2Ftokenbased_authentication_with_flask%2F%3AHH-Uz-6TTZdEyVsvsClWZv8wUhY&amp;cuid=2167414" rel="nofollow noopener" title="https://www.reddit.com/r/flask/comments/5pwbr6/tokenbased_authentication_with_flask/">https://www.reddit.com/r/fl...</a></p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1fl09x7"></li></ul></li><li class="realtime" data-role="realtime-notification:3119059771"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3327600227"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_eQoPhDn6Nu/" data-action="profile" data-username="disqus_eQoPhDn6Nu" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="187113152" src="a_data/avatar92_006.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_eQoPhDn6Nu/" data-action="profile" data-username="disqus_eQoPhDn6Nu" target="_blank" rel="noopener noreferrer">Stella</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3327600227" data-role="relative-time" class="time-ago" title="Saturday, May 27, 2017 8:53 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Good job !</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1j160rn"></li></ul></li><li class="realtime" data-role="realtime-notification:3327600227"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3775298009"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/niraj_chavan/" data-action="profile" data-username="niraj_chavan" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="179762356" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/niraj_chavan/" data-action="profile" data-username="niraj_chavan" target="_blank" rel="noopener noreferrer">Niraj Chavan</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3775298009" data-role="relative-time" class="time-ago" title="Sunday, February 25, 2018 4:03 PM">2 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Getting "fe_sendauth: no password supplied" while running python <a href="http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414" rel="nofollow noopener" title="manage.py">manage.py</a>
 create_db command. I am using PostgreSQL 10 pgAdmin 4. The two database
 created successfully but not able to migrate using command.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1qfpql5"></li></ul></li><li class="realtime" data-role="realtime-notification:3775298009"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3747179305"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/zhughesent/" data-action="profile" data-username="zhughesent" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="80259118" src="a_data/avatar92_007.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/zhughesent/" data-action="profile" data-username="zhughesent" target="_blank" rel="noopener noreferrer">Z. Hughes Ent.</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3747179305" data-role="relative-time" class="time-ago" title="Wednesday, February 7, 2018 7:40 PM">2 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container" style="height: 374px;"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you for this tutorial.</p><p>When
 I run all of the tests, I am receiving POST data. However, when I try 
to hook this up to a front-end user interface, with a generic post 
action on a form.</p><p>I.e. I added a new GET route to the login api that looks like this:<br></p><pre><code class="hljs xml">    def get(self):<br>        return '''<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Patriot Financial Associates<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Patriot Financial Associates<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Login.<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginForm"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/auth/login"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span><br>            Username:<br><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span><br><br>            Password:<br><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>'''</code></pre><p></p><p>Here is the code that should receive the post request in the loginapi.<br></p><pre><code class="hljs scala">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">post</span></span>(self):<br>        # get the post data<br>        post_data = request.get_json()<br>        print(<span class="hljs-symbol">'received</span> post to login endpoint <span class="hljs-keyword">with</span> post_data= ', post_data)<br>        <span class="hljs-keyword">try</span>:<br>            # fetch the user data<br>            user = <span class="hljs-type">User</span>.query.filter_by(<br>                email=post_data.get(<span class="hljs-symbol">'emai</span>l')<br>            ).first()<br>            <span class="hljs-keyword">if</span> user and bcrypt.check_password_hash(<br>                user.password, post_data.get(<span class="hljs-symbol">'passwor</span>d')<br>            ):<br>                auth_token = user.encode_auth_token(user.id)<br>                <span class="hljs-keyword">if</span> auth_token:<br>                    responseObject = {<br>                        <span class="hljs-symbol">'statu</span>s': <span class="hljs-symbol">'succes</span>s',<br>                        <span class="hljs-symbol">'messag</span>e': <span class="hljs-symbol">'Successfully</span> logged in.',<br>                        <span class="hljs-symbol">'auth_toke</span>n': auth_token.decode()<br>                    }<br>                    <span class="hljs-keyword">return</span> make_response(jsonify(responseObject)), <span class="hljs-number">200</span><br>            <span class="hljs-keyword">else</span>:<br>                responseObject = {<br>                    <span class="hljs-symbol">'statu</span>s': <span class="hljs-symbol">'fai</span>l',<br>                    <span class="hljs-symbol">'messag</span>e': <span class="hljs-symbol">'User</span> does not exist.'<br>                }<br>                <span class="hljs-keyword">return</span> make_response(jsonify(responseObject)), <span class="hljs-number">404</span> </code></pre><p></p><p>When
 I run the tests, post data is being received. However, from the web 
interface, calling request.get_json() is returning anything to the 
post_data variable. Here is what the request looks like in Chrome Dev 
Tools: <br> <span></span><div class="media-container media-mode-deferred media-activated">
<a class="media-button media-button-expand publisher-color publisher-border-color" href="https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png" rel="nofollow" target="_blank" data-action="expand" title="">
<i class="icon-images publisher-background-color"></i>
View
</a>
<a class="media-button media-button-contract publisher-color publisher-border-color" href="#" target="_blank" data-action="contract">
<i class="icon-cancel publisher-background-color"></i> Hide
</a>
<div class="media-content-loader" data-role="content-loader"></div>
<div data-role="content-placeholder" class="media-content-placeholder" style="height: auto;"><a href="https://uploads.disquscdn.com/images/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab518866f6.png" target="_blank" rel="nofollow">
<img src="a_data/a969f865343fe76bee4fff5f35958471b44c48af383b792e68c38aab5188.png" alt="Thumbnail" height="153">
</a></div>
</div>  <span></span><div class="media-container media-mode-deferred media-activated">
<a class="media-button media-button-expand publisher-color publisher-border-color" href="https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png" rel="nofollow" target="_blank" data-action="expand" title="">
<i class="icon-images publisher-background-color"></i>
View
</a>
<a class="media-button media-button-contract publisher-color publisher-border-color" href="#" target="_blank" data-action="contract">
<i class="icon-cancel publisher-background-color"></i> Hide
</a>
<div class="media-content-loader" data-role="content-loader"></div>
<div data-role="content-placeholder" class="media-content-placeholder" style="height: auto;"><a href="https://uploads.disquscdn.com/images/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120ddc2.png" target="_blank" rel="nofollow">
<img src="a_data/6441915265967e7a404fce2068c7810746b53a2c661a36e79937e82c6120.png" alt="Thumbnail" height="92">
</a></div>
</div></p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1pyz221"></li></ul></li><li class="realtime" data-role="realtime-notification:3747179305"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3747334392"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/zhughesent/" data-action="profile" data-username="zhughesent" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="80259118" src="a_data/avatar92_007.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/zhughesent/" data-action="profile" data-username="zhughesent" target="_blank" rel="noopener noreferrer">Z. Hughes Ent.</a></span> </span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3747179305" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Z. Hughes Ent.</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3747334392" data-role="relative-time" class="time-ago" title="Wednesday, February 7, 2018 9:11 PM">2 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I
 fixed my problem. The problem happens in the flask.request method 
"get_json" which "Parses the incoming JSON request data and returns it. 
By default this function will return None if the mimetype is not 
application/json but this can be overridden by the force parameter." For
 more info, <a href="http://disq.us/url?url=http%3A%2F%2Fflask.pocoo.org%2Fdocs%2F0.12%2Fapi%2F%23incoming-request-data%3AJlGxO-JaSOyfmB5OGuKZnBFEJRs&amp;cuid=2167414" rel="nofollow noopener" title="http://flask.pocoo.org/docs/0.12/api/#incoming-request-data">check out the Flask documentation here</a>.
 Because the mimetype is 'application/x-www-form-urlencoded' when 
POST'ing form data, I had to change the first line of the post methods 
to:<br></p><pre><code class="hljs ini"><span class="hljs-attr">post_data</span> = request.get_json() or request.form</code></pre></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1pz2dq0"></li></ul></li><li class="realtime" data-role="realtime-notification:3747334392"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3744742354"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/daixtr/" data-action="profile" data-username="daixtr" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="89546258" src="a_data/avatar92_008.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/daixtr/" data-action="profile" data-username="daixtr" target="_blank" rel="noopener noreferrer">Eigenfield Aparicio</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3744742354" data-role="relative-time" class="time-ago" title="Tuesday, February 6, 2018 7:13 AM">2 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>This seems very unpythonic.. the hula hoops there and there what kind of setup is this?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1pxitoy"></li></ul></li><li class="realtime" data-role="realtime-notification:3744742354"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3708574457"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/beldenn/" data-action="profile" data-username="beldenn" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="224050031" src="a_data/avatar92_005.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/beldenn/" data-action="profile" data-username="beldenn" target="_blank" rel="noopener noreferrer">Dennis Bellio</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3708574457" data-role="relative-time" class="time-ago" title="Monday, January 15, 2018 11:39 AM">3 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Can i get video tutorial for all this am trying to follow up but stuck in between....</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1pbzmd5"></li></ul></li><li class="realtime" data-role="realtime-notification:3708574457"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3477121835"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/benaltieri/" data-action="profile" data-username="benaltieri" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="749120" src="a_data/avatar92_004.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/benaltieri/" data-action="profile" data-username="benaltieri" target="_blank" rel="noopener noreferrer">Ben Alteri</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3477121835" data-role="relative-time" class="time-ago" title="Sunday, August 20, 2017 3:34 AM">8 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Migrations not working ... I get the following error:<br>sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) fe_sendauth: no password supplied</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1li6sdn"></li></ul></li><li class="realtime" data-role="realtime-notification:3477121835"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3426835730"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/porqpai/" data-action="profile" data-username="porqpai" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="86907642" src="a_data/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/porqpai/" data-action="profile" data-username="porqpai" target="_blank" rel="noopener noreferrer">porqpai</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3426835730" data-role="relative-time" class="time-ago" title="Thursday, July 20, 2017 6:46 PM">9 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Just
 completed this tutorial, and noted that Werkzeug needs to be updated to
 0.11.15 in requirements.txt else you'll get the following error when 
using Python 3:<br>lib\site-packages\werkzeug\<a href="http://disq.us/url?url=http%3A%2F%2Fserving.py%3AbfcSIp-naQuQGpzRJBTJKiwk2vw&amp;cuid=2167414" rel="nofollow noopener" title="serving.py">serving.py</a>", line 65, in &lt;module&gt;<br>    from SocketServer import ThreadingMixIn, ForkingMixIn<br>ModuleNotFoundError: No module named 'SocketServer'</p><p>the module is all lowercase for Python3.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1ko8zde"></li></ul></li><li class="realtime" data-role="realtime-notification:3426835730"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li><li class="post" id="post-3391429101"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="257348039" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer">Aditya</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3391429101" data-role="relative-time" class="time-ago" title="Thursday, June 29, 2017 4:44 PM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi
 I've been following this excellent tutorial step by step. While 
preparing the Login API, I realized that the code is not checking if the
 password entered by the user is correct. It is only checking if the 
user already exists in the database. I validated this by changing the 
password in the test named - 'test_registered_user_login' and the test 
passes with incorrect password. Would raise a pull request for the same 
on github today after adding another test and modifying the code.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1k363fx"></li></ul></li><li class="realtime" data-role="realtime-notification:3391429101"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3392866509"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3391429101" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Aditya</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3392866509" data-role="relative-time" class="time-ago" title="Friday, June 30, 2017 10:22 AM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Nice catch. Yes - can you please open a PR? Thanks!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1k40wjx"></li></ul></li><li class="realtime" data-role="realtime-notification:3392866509"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3408979863"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="257348039" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer">Aditya</a></span> </span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3392866509" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> michaelherman</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3408979863" data-role="relative-time" class="time-ago" title="Monday, July 10, 2017 4:12 PM">9 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi
 sorry for the delayed response. That day I noticed that this change has
 already been incorporated in the code on the master branch. I guess all
 that's left is to make the edit on this post. Thanks once again for 
this very informative tutorial</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1kdm9p3"></li></ul></li><li class="realtime" data-role="realtime-notification:3408979863"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3411056776"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3408979863" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Aditya</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3411056776" data-role="relative-time" class="time-ago" title="Tuesday, July 11, 2017 3:49 PM">9 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hmmm... does this not get corrected in the "Non-Registered user login" section of the post?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1keus94"></li></ul></li><li class="realtime" data-role="realtime-notification:3411056776"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3414713190"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="257348039" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_jbOsFuu0wv/" data-action="profile" data-username="disqus_jbOsFuu0wv" target="_blank" rel="noopener noreferrer">Aditya</a></span> </span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3411056776" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> michaelherman</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3414713190" data-role="relative-time" class="time-ago" title="Thursday, July 13, 2017 5:23 PM">9 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Indeed.
 In fact I felt like I jumped the gun by commenting before I even 
reached that section. However, you might still want to work on the 
messaging in the same class (LoginAPI). The login check currently in 
place tests if the user exists AND if the password is correct - failing 
which the message that goes in the response says 'User does not exist'. 
There is no message for the user being registered but the password being
 incorrect. Its a minor issue I guess, but you might want to look at it</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1kh15k6"></li></ul></li><li class="realtime" data-role="realtime-notification:3414713190"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3416408918"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3414713190" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Aditya</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3416408918" data-role="relative-time" class="time-ago" title="Friday, July 14, 2017 4:16 PM">9 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Good points. Thanks!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1ki1hzq"></li></ul></li><li class="realtime" data-role="realtime-notification:3416408918"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li class="post" id="post-3353725011"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="a_data/noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">AnD</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3353725011" data-role="relative-time" class="time-ago" title="Sunday, June 11, 2017 6:33 PM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I
 have a few questions, CMIIW - I do understand that every time user 
login, it will giving you a token with validity that you can set (in 
your example: 6s), and you can validate the token by cheking on the 
status method and even you can blacklist/invalidate the particular 
token.</p><p>1. what is the use case for blacklist?<br>1a. every time 
user logout, it will add user's token in a blacklist table, that means: 1
 record every logout action per user - how to manage this? can I do 
sanity/clean up job for  blacklist record that older than 'x' 
days/weeks? will the deleted record safe to delete? (it wont be able to 
use after deletion)</p><p>2. the only way for you to the the valid token is when you login, which the token will always different each time user login.<br>if I didn't logout, I login and get Token 'A', then I login again and get Token 'B" will Token 'A' and 'B' valid?<br>2a.
 if both Tokens are valid, is that means you have to logout multiple 
times by sending generated Token in header 1 by 1 so they'll be 
blacklisted?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jgpys3"></li></ul></li><li class="realtime" data-role="realtime-notification:3353725011"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3354380706"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3353725011" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> AnD</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3354380706" data-role="relative-time" class="time-ago" title="Monday, June 12, 2017 3:05 AM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>1.
 You really don't want a token to be used twice, for different users. It
 can be managed in a number of different ways, depending on the level of
 security you need. In the past, I have deleted records older than 1 
year.<br>2. One of the reasons for using tokens is to manage multiple 
logins from multiple devices. So, yes - a single user could have 
multiple tokens.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jh40pu"></li></ul></li><li class="realtime" data-role="realtime-notification:3354380706"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3353698859"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="a_data/noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">AnD</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3353698859" data-role="relative-time" class="time-ago" title="Sunday, June 11, 2017 6:11 PM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>What's
 the purpose of 'Bearer' in your code above? - "Authorization='Bearer '"
 - is that something like an additional 'secret words'?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jgpeln"></li></ul></li><li class="realtime" data-role="realtime-notification:3353698859"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3354374933"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3353698859" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> AnD</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3354374933" data-role="relative-time" class="time-ago" title="Monday, June 12, 2017 2:59 AM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>It indicates the type of auth. <a href="https://disq.us/url?url=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc6750%3A1BTXJ0cO_wjpVOHvUyDsjtg9HI8&amp;cuid=2167414" rel="nofollow noopener" title="https://tools.ietf.org/html/rfc6750">https://tools.ietf.org/html...</a></p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jh3w9h"></li></ul></li><li class="realtime" data-role="realtime-notification:3354374933"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3347947724"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="a_data/noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">AnD</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3347947724" data-role="relative-time" class="time-ago" title="Thursday, June 8, 2017 10:33 AM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Nice
 article, help me a lot, but 1 question, how to deploy this in 
Development server or in production server? instead of running on test 
environment?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jda4zw"></li></ul></li><li class="realtime" data-role="realtime-notification:3347947724"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3348211733"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3347947724" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> AnD</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3348211733" data-role="relative-time" class="time-ago" title="Thursday, June 8, 2017 3:34 PM">10 months ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>We
 show exactly how to do that in the Real Python courses. We also have a 
blog post on deploying Django to Elastic Beanstalk -&gt; <a href="https://disq.us/url?url=https%3A%2F%2Frealpython.com%2Fblog%2Fpython%2Fdeploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk%2F%3A3Kz9bWhOY2qxlme6t5CMnx1UHQg&amp;cuid=2167414" rel="nofollow noopener" title="https://realpython.com/blog/python/deploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk/">https://realpython.com/blog...</a>.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1jdfsph"></li></ul></li><li class="realtime" data-role="realtime-notification:3348211733"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3144727269"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/rjpwca/" data-action="profile" data-username="rjpwca" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="142635621" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/rjpwca/" data-action="profile" data-username="rjpwca" target="_blank" rel="noopener noreferrer">Jeff Wilson</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3144727269" data-role="relative-time" class="time-ago" title="Wednesday, February 8, 2017 11:31 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Just two little fixes, and the rest went perfectly.</p><p>First fix: the migrations were missing a models import (mentioned in reply to <a data-dsq-mention="androiddrew:disqus" href="https://disqus.com/by/androiddrew/" rel="nofollow noopener" title="https://disqus.com/by/androiddrew/" data-action="profile" data-username="androiddrew" class="mention">AndroidDrew</a> comment). Top of <a href="http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414" rel="nofollow noopener" title="manage.py">manage.py</a>, you need:</p><p>from project.server import app, db, models</p><p>Second
 fix: the method "check_blacklist" in class BlacklistToken required a 
cast to string in the query filter (I was getting an "operator does not 
exist" error).</p><p>It now reads:</p><p>res = BlacklistToken.query.filter_by(token=str(auth_token)).first()</p><p>I'm just getting my feet wet with Flask, and this was a great introduction. I definitely appreciated the test-first approach.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1g0af39"></li></ul></li><li class="realtime" data-role="realtime-notification:3144727269"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3146009147"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3144727269" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Jeff Wilson</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3146009147" data-role="relative-time" class="time-ago" title="Thursday, February 9, 2017 6:11 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Just updated the post and the code in the repo. Thank you!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1g11w6z"></li></ul></li><li class="realtime" data-role="realtime-notification:3146009147"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li><li class="post" id="post-3140813850"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/androiddrew/" data-action="profile" data-username="androiddrew" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="117588977" src="a_data/avatar92_003.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/androiddrew/" data-action="profile" data-username="androiddrew" target="_blank" rel="noopener noreferrer">AndroidDrew</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3140813850" data-role="relative-time" class="time-ago" title="Tuesday, February 7, 2017 12:33 AM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Well
 Damn. I followed the instructions to a T but the Sanity Check on the 
database didn't work. I don't have a user table or Sequence in my 
Postgres App db</p><p>Edit:</p><p>Needed to add `from project.server.models import User` to the bottom of <a href="http://disq.us/url?url=http%3A%2F%2Fproject.server.__init__.py%3AwGcwbrUCWRcq9M0RgjGlvYfXQm4&amp;cuid=2167414" rel="nofollow noopener" title="project.server.__init__.py">project.server.__init__.py</a>.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1fxyjh6"></li></ul></li><li class="realtime" data-role="realtime-notification:3140813850"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3140821157"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="25738176" src="a_data/avatar92_009.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/michaelherman/" data-action="profile" data-username="michaelherman" target="_blank" rel="noopener noreferrer">michaelherman</a></span> <span class="badge moderator">Mod</span></span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3140813850" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> AndroidDrew</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3140821157" data-role="relative-time" class="time-ago" title="Tuesday, February 7, 2017 12:38 AM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>The migrations are not running correctly then. Are you not getting any error?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1fxyp45"></li></ul></li><li class="realtime" data-role="realtime-notification:3140821157"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"><li class="post" id="post-3144345620"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu"><li class="collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class="" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/rjpwca/" data-action="profile" data-username="rjpwca" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="142635621" src="a_data/avatar92_002.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/rjpwca/" data-action="profile" data-username="rjpwca" target="_blank" rel="noopener noreferrer">Jeff Wilson</a></span> </span><span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3140821157" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> michaelherman</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://realpython.com/token-based-authentication-with-flask/#comment-3144345620" data-role="relative-time" class="time-ago" title="Wednesday, February 8, 2017 7:54 PM">a year ago</a></span> </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I fixed this by appending ", models" to the imports from project.server at the top of the file "<a href="http://disq.us/url?url=http%3A%2F%2Fmanage.py%3A0e24IwUD-V6E1j36H74yb5h7HxE&amp;cuid=2167414" rel="nofollow noopener" title="manage.py">manage.py</a>", so it now reads:</p><p>from project.server import app, db, models</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a> <a href="#" role="button" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><li class="twitter"><button class="share__button" data-action="share:twitter">Twitter</button></li><li class="facebook"><button class="share__button" data-action="share:facebook">Facebook</button></li><li class="link"><input class="share__button" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1g028lw"></li></ul></li><li class="realtime" data-role="realtime-notification:3144345620"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><ul data-role="children" class="children"></ul></li></ul></li></ul></li></ul><div class="load-more" data-role="more" style="display: none;"><a href="#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"><div class="post-list" style="height: auto; visibility: visible;"><div style="display: block; width: 100%;"><div id="discovery-main-c201" class="discovery-main"><section id="col-organic-c599" class="col-organic"><header class="discovery-col-header"><h2>Also on <strong>Real Python</strong></h2></header><ul class="discovery-posts" data-role="discovery-posts"><li class="discovery-post post-0" id="discovery-link-organic-6577508981"><a class="publisher-anchor-color" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fpython-data-cleaning-numpy-pandas%2F&amp;key=5ezUzTjlIq7be4dLBLxscg" target="" rel=""><header class="discovery-post-header"><h3 title="Pythonic Data Cleaning With NumPy and Pandas"><span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">Pythonic Data Cleaning With NumPy and Pandas</span></h3><ul class="meta"><li class="comments">4 comments </li> <li class="time">25 days ago</li></ul></header><a class="top-comment" data-role="discovery-top-comment" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fpython-data-cleaning-numpy-pandas%2F&amp;key=5ezUzTjlIq7be4dLBLxscg" target="" rel=""><img data-src="https://c.disquscdn.com/uploads/users/9706/5240/avatar92.jpg?1523127750" alt="Avatar" data-role="discovery-avatar"><p><span class="user" data-role="discovery-top-comment-author">Malay Agarwal</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">Happy to help! :)</span></p></a></a></li><li class="discovery-post post-1" id="discovery-link-organic-6462080270"><a class="publisher-anchor-color" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fmodern-web-automation-with-python-and-selenium%2F&amp;key=2HpCd4fD3-2vGk4UKDbASw" target="" rel=""><header class="discovery-post-header"><h3 title="Modern Web Automation With Python and Selenium"><span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">Modern Web Automation With Python and Selenium</span></h3><ul class="meta"><li class="comments">10 comments </li> <li class="time">2 months ago</li></ul></header><a class="top-comment" data-role="discovery-top-comment" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fmodern-web-automation-with-python-and-selenium%2F&amp;key=2HpCd4fD3-2vGk4UKDbASw" target="" rel=""><img data-src="//a.disquscdn.com/1523321660/images/noavatar92.png" alt="Avatar" data-role="discovery-avatar"><p><span class="user" data-role="discovery-top-comment-author">Hemant Kulkarni</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3"> Thanks for Good Post ... I am new in Python and selenium .. I have requirement to login with URL with …</span></p></a></a></li><li class="discovery-post post-2" id="discovery-link-organic-6450014096"><a class="publisher-anchor-color" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fcopying-python-objects%2F&amp;key=h_sAUoLcaQ4PjVrK_FjiTw" target="" rel=""><header class="discovery-post-header"><h3 title="Shallow vs Deep Copying of Python Objects"><span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">Shallow vs Deep Copying of Python Objects</span></h3><ul class="meta"><li class="comments">2 comments </li> <li class="time">3 months ago</li></ul></header><a class="top-comment" data-role="discovery-top-comment" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fcopying-python-objects%2F&amp;key=h_sAUoLcaQ4PjVrK_FjiTw" target="" rel=""><img data-src="//a.disquscdn.com/1523321660/images/noavatar92.png" alt="Avatar" data-role="discovery-avatar"><p><span class="user" data-role="discovery-top-comment-author">Volkan</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">Perfect Point! Thank you!</span></p></a></a></li><li class="discovery-post post-3" id="discovery-link-organic-6616819016"><a class="publisher-anchor-color" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fpython-json%2F&amp;key=FDGUbC7Rui1zcsKsIrkKkg" target="" rel=""><header class="discovery-post-header"><h3 title="Working With JSON Data in Python"><span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">Working With JSON Data in Python</span></h3><ul class="meta"><li class="comments">3 comments </li> <li class="time">4 days ago</li></ul></header><a class="top-comment" data-role="discovery-top-comment" href="https://disq.us/?url=https%3A%2F%2Frealpython.com%2Fpython-json%2F&amp;key=FDGUbC7Rui1zcsKsIrkKkg" target="" rel=""><img data-src="https://c.disquscdn.com/uploads/users/1837/8044/avatar92.jpg?1523918057" alt="Avatar" data-role="discovery-avatar"><p><span class="user" data-role="discovery-top-comment-author">bulletmark</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3"> Sorry, but it hurts my eyes to see that ugly try/except block. Please get rid of that and just make todos_by_user …</span></p></a></a></li></ul></section></div></div></div></div><div id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><ul class="disqus-footer"><li class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></li><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><span class="clip">Subscribe</span><i aria-hidden="true" class="icon icon-checkmark"></i></a></div></li><li class="install disqus-footer__item"><a href="https://publishers.disqus.com/engage?utm_source=realpython&amp;utm_medium=Disqus-Footer" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-disqus"></i><span class="clip hidden-sm">Add Disqus to your site</span><span class="clip visible-sm hidden-xs">Add Disqus</span><span class="clip visible-xs">Add</span></a></li><li class="privacy disqus-footer__item"><a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip">Privacy</span></a></li></ul></div></div></body></html>